function e(t) {
    const n = t.offsetHeight;
    const e = t.closest(".x-dropdown");
    if (e) {
        e.style.setProperty("--_container-height", `${n}px`);
        e.style.setProperty("--_container-speed", `${n}ms`);
    }
}
const o = new ResizeObserver((n) => {
    for (let t of n) {
        e(t.target);
    }
});
document.addEventListener("DOMContentLoaded", (t) => {
    const n = document.querySelectorAll(".submenu-container");
    n.forEach((t) => {
        o.observe(t);
        e(t);
    });
});
window.addEventListener("resize", () => {
    const t = document.querySelectorAll(".submenu-container");
    t.forEach(e);
});
let t;
const n = document.querySelector(".global_nav");
const c = document.querySelector(".background-layer");
const i = () => {
    n.classList.add("submenu-open");
    c.classList.add("submenu-open");
};
const s = () => {
    clearTimeout(t);
    t = setTimeout(() => {
        const t =
            document.querySelector(".x-anchor.global_nav__item.x-active") !==
            null;
        if (!t) {
            n.classList.remove("submenu-open");
            c.classList.remove("submenu-open");
        }
    }, 150);
};
const a = (t) => {
    if (t.target.classList.contains("x-active")) {
        i();
    } else {
        s();
    }
};
const u = new MutationObserver((t) => {
    t.forEach(a);
});
const d = document.querySelectorAll(".x-anchor.global_nav__item");
d.forEach((t) =>
    u.observe(t, { attributes: true, attributeFilter: ["class"] })
);
if (Array.from(d).some((t) => t.classList.contains("x-active"))) {
    i();
}
const r = document.querySelector(".global_nav__list");
function l() {
    const t = r.offsetWidth;
    const n = r.children.length;
    let e = 0;
    for (let t = 0; t < n; t++) {
        e += r.children[t].offsetWidth;
    }
    const o = n > 1 ? (t - e) / (n - 1) : 0;
    r.style.setProperty("--_button-gap", `${o}px`);
    const c = r.children;
    for (let t = 0; t < c.length; t++) {
        c[t].style.setProperty("--_button-width", `${c[t].offsetWidth}px`);
    }
}
let m;
window.addEventListener("resize", () => {
    clearTimeout(m);
    m = setTimeout(l, 250);
});
l();
function b() {
    const t = document.querySelectorAll(".x-dropdown.global_nav__item");
    const o = window.innerHeight;
    t.forEach((t) => {
        const n = parseInt(
            getComputedStyle(t).getPropertyValue("--_container-height")
        );
        const e = n + 92;
        if (o < e) {
            t.classList.add("dropdown-scrollable");
        } else {
            t.classList.remove("dropdown-scrollable");
        }
    });
}
let f;
window.addEventListener("resize", () => {
    clearTimeout(f);
    f = setTimeout(b, 250);
});
b();
document.querySelectorAll(".mm-content").forEach((t) => {
    const n = new MutationObserver((t) => {
        t.forEach((n) => {
            if (n.type === "attributes" && n.attributeName === "aria-hidden") {
                const t = n.target;
                const e = t.getAttribute("aria-hidden") === "false";
                setTimeout(() => {
                    if (e) {
                        t.classList.add("mm-open");
                    } else {
                        t.classList.remove("mm-open");
                    }
                }, 120);
            }
        });
    });
    const e = t.querySelector("div[aria-hidden]");
    if (e) {
        n.observe(e, { attributes: true });
    }
});
document.addEventListener("DOMContentLoaded", () => {
    const n = document.getElementById("mm-off-canvas");
    const e = document.querySelector(".global_nav");
    if (n && e) {
        const o = () => {
            e.classList.toggle("mm-active", n.classList.contains("x-active"));
        };
        o();
        const t = new MutationObserver((t) => {
            for (const n of t) {
                if (n.type === "attributes" && n.attributeName === "class") {
                    o();
                    break;
                }
            }
        });
        t.observe(n, { attributes: true });
    }
});
document.addEventListener("DOMContentLoaded", function () {
    const t = document.querySelectorAll(".busy-on");
    t.forEach(function (t) {
        t.addEventListener("click", function () {
            this.setAttribute("data-busy", "true");
        });
    });
});
let _;
document.addEventListener("DOMContentLoaded", () => {
    const t = document.querySelector(".global_nav");
    _ = document.querySelectorAll(".x-dropdown.global_nav__item");
    const n = document.querySelector("#mm-off-canvas");
    if (t && t.classList.contains("light")) {
        _.forEach((t) => t.classList.add("light"));
        if (n) {
            n.classList.add("light");
        }
    }
});
function v() {
    if (_) {
        _.forEach((t) => t.classList.add("light"));
    }
}
jQuery(document).ready(function (t) {
    t("body").on("click", ".remove-item", function (e) {
        e.preventDefault();
        let o = t(this);
        o.closest("li.x-div").addClass("removing"),
            setTimeout(() => t("#cart-row").addClass("updating"), 500),
            setTimeout(() => (window.location.href = o.attr("href")), 600);
    }),
        t("body").on("click", ".remove-coupon, .restore-item", function (e) {
            e.preventDefault(),
                t("#cart-row").addClass("updating"),
                setTimeout(
                    () => (window.location.href = t(this).attr("href")),
                    100
                );
        }),
        window.location.href.includes("removed_item=1") &&
            setTimeout(
                () => t("[data-x-toggle-hash='stickz_side_cart']").click(),
                1e3
            );
});
document.addEventListener("DOMContentLoaded", function () {
    const t3 = document.querySelectorAll(".busy-temp");
    t3.forEach(function (t3) {
        t3.addEventListener("click", function () {
            this.setAttribute("data-busy", "true");
            this.disabled = true;
            setTimeout(() => {
                this.removeAttribute("data-busy");
                this.disabled = false;
            }, 2e3);
        });
    });
});
jQuery(document).ready(function (a) {
    let t;
    function e(e = !1, s = "") {
        clearTimeout(t),
            (t = setTimeout(function () {
                var t = a(".stickz-search").val();
                a(".loader-wrapper")
                    .addClass("fetching-results")
                    .attr("aria-hidden", "false"),
                    a("#stickz-search").on("submit", function (a) {
                        a.preventDefault();
                    }),
                    a.ajax({
                        url: "https://stickz.co/wp-admin/admin-ajax.php",
                        type: "post",
                        data: {
                            action: "data_fetch",
                            keyword: t,
                            show_all: e,
                            type: s,
                        },
                        success: function (s) {
                            a(".loader-wrapper")
                                .removeClass("fetching-results")
                                .attr("aria-hidden", "true"),
                                a(".stickz-search-results").html(s),
                                e && a(".show-all-results").remove(),
                                r(t);
                        },
                    });
            }, 250));
    }
    function r(t) {
        t.length > 0
            ? a(".clear-search")
                  .removeAttr("aria-hidden")
                  .removeAttr("disabled")
                  .attr("tabindex", 0)
            : a(".clear-search")
                  .attr("aria-hidden", "true")
                  .attr("disabled", "disabled")
                  .attr("tabindex", "-1");
    }
    a(document).on("click", ".show-all-results", function () {
        e(!0, "");
    }),
        a(".stickz-search").on("keyup", function () {
            e(!1), r(this.value);
        }),
        a(document).on("click", ".clear-search", function () {
            a(".stickz-search").val(""), r(""), e(!1);
        }),
        r(a(".stickz-search").val());
});